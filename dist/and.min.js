/**
 * rubico v1.9.6
 * https://github.com/a-synchronous/rubico
 * (c) 2019-2021 Richard Tong
 * rubico may be freely distributed under the MIT license.
 */

!function(n,t){"object"==typeof module?module.exports=t:"function"==typeof define?define((()=>t)):n.and=t}("object"==typeof globalThis?globalThis:this,function(){"use strict";const n=n=>null!=n&&"function"==typeof n.then,t=Symbol.for("placeholder"),e=function(n,e,o,r){return e==t?((n,t,e)=>function(o){return n(o,t,e)})(n,o,r):o==t?((n,t,e)=>function(o){return n(t,o,e)})(n,e,r):((n,t,e)=>function(o){return n(t,e,o)})(n,e,o)},o=(n,t,e)=>n?t():e(),r=(n,t,e)=>function(){return n(t,e)},u=(n,t,e,o)=>function(){return n(t,e,o)},f=n=>function(){return n},i=function(u,c){const l=u.length;for(;++c<l;){let l=u[c];if(n(l))return l.then(e(o,t,r(i,u,c),f(!1)));if(!l)return!1}return!0},c=async function(t,e,o){const r=t.length;for(;++o<r;){let r=t[o];if("function"==typeof r&&(r=r(e)),n(r)&&(r=await r),!r)return!1}return!0};return r=>function(n){const t=n.length;let e=-1;for(;++e<t;)if("function"==typeof n[e])return!1;return!0}(r)?i(r,-1):function(i){const l=r.length;let s=-1;for(;++s<l;){let l=r[s];if("function"==typeof l&&(l=l(i)),n(l))return l.then(e(o,t,u(c,r,i,s),f(!1)));if(!l)return!1}return!0}}());
